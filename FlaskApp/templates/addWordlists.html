{% extends 'base.html' %}

{% block header %}
    <h1>Add Wordlist</h1>
{% endblock %}

{% block content %}

<body>
  <div class="container">
    <div class="card">
      <h1>{{ title }}</h1>
      <form method="post" action="{{ url_for('addWordlists.add', name=name) }}">
        <h2>{{ name }}</h2>

        <table class="pairs-table">
          <thead>
            <tr>
              <th>English</th>
              <th>Portuguese</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="pairs-body">
          {% for i in range(0,5) %}
            <tr>
              <td><input type="text" name="source_word[]" placeholder="house"></td>
              <td><input type="text" name="target_word[]" placeholder="casa"></td>
              <td><button type="button" class="btn danger" onclick="removeRow(this)">✕</button></td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
        <div class="controls">
          <button type="button" class="btn" onclick="addRow()">+ Add Row</button>
          <button type="submit" class="btn primary" >Save Words</button>
        </div>
      </form>
    </div>
  </div>
  <script>
    function addRow() {
      const tbody = document.getElementById('pairs-body');
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td><input type="text" name="source_word[]" placeholder="new word"></td>
        <td><input type="text" name="target_word[]" placeholder="translation"></td>
        <td><button type="button" class="btn danger" onclick="removeRow(this)">✕</button></td>
      `;
      tbody.appendChild(tr);
    }
    function removeRow(btn) {
      btn.closest('tr').remove();
    }
  </script>
</body>
</html>
{% endblock %}
